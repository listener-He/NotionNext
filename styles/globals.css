@tailwind base;
@tailwind components;
@tailwind utilities;

html {
  overflow-x: hidden;
}

.wrapper {
  min-height: 100vh;
  display: flex;
  flex-wrap: nowrap;
  align-items: stretch;
  justify-content: flex-start;
  flex-direction: column;
}

.sticky-nav {
  position: sticky;
  z-index: 10;
  top: -1px;
  -webkit-backdrop-filter: blur(5px);
  backdrop-filter: blur(5px);
  transition: all 0.5s cubic-bezier(0.4, 0, 0, 1);
  border-bottom-color: transparent;
}

.sticky-nav-full {
  @apply border-b border-opacity-50 border-gray-200 dark:border-gray-600 dark:border-opacity-50;
}

.header-name {
  overflow: hidden;
}

.sticky-nav-full .nav {
  @apply text-gray-800 dark:text-indigo-100;
}

nav {
  flex-wrap: wrap;
  line-height: 1.5em;
}

.article-tags::-webkit-scrollbar {
  width: 0 !important;
}

.tag-container ul::-webkit-scrollbar {
  width: 0 !important;
}

.tag-container ul {
  -ms-overflow-style: none;
  overflow: -moz-scrollbars-none;
  -moz-user-select: none;
  -webkit-user-select: none;
  -ms-user-select: none;
  -khtml-user-select: none;
  user-select: none;
}

@media (min-width: 768px) {
  .sticky-nav-full {
    @apply max-w-full border-b border-opacity-50 border-gray-200 dark:border-gray-600 dark:border-opacity-50;
  }
  .header-name {
    display: block;
    transition: all 0.5s cubic-bezier(0.4, 0, 0, 1);
  }
  .sticky-nav-full .header-name {
    @apply dark:text-gray-300 text-gray-600;
  }
}

@supports not (backdrop-filter: none) {
  .sticky-nav {
    -webkit-backdrop-filter: none;
    backdrop-filter: none;
    @apply bg-day dark:bg-gray-800;
  }
}

.shadow-card {
  box-shadow:
    rgba(0, 0, 0, 0.07) 0px 1px 2px,
    rgba(0, 0, 0, 0.07) 0px 2px 4px,
    rgba(0, 0, 0, 0.07) 0px 4px 8px,
    rgba(0, 0, 0, 0.07) 0px 8px 16px,
    rgba(0, 0, 0, 0.07) 0px 16px 32px,
    rgba(0, 0, 0, 0.07) 0px 32px 64px;
}

.gt-meta {
  @apply dark:text-gray-300;
}

#waifu {
  @apply right-auto left-0 hidden lg:block z-10 !important;
}

/* 隐藏滚动条 */
.scroll-hidden {
  -ms-overflow-style: none;
  overflow: -moz-scrollbars-none;
  scrollbar-width: none; /* firefox */
}

.scroll-hidden::-webkit-scrollbar {
  width: 0 !important;
}

.glassmorphism {
  background: hsla(0, 0%, 100%, 0.05);
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
}

.medium-zoom-overlay {
  background: none !important;
  /* background: rgba(0, 0, 0, 0.01) none repeat scroll 0% 0% !important; */
}

.shadow-text {
  text-shadow: 0.1em 0.1em 0.2em black;
}

.notion-code-copy-button > svg {
  pointer-events: none;
}

.fireworks {
  position: fixed;
  left: 0;
  top: 0;
  z-index: 1000;
  pointer-events: none;
}

[data-waline] p {
  color: var(--waline-color);
  @apply dark:text-gray-200 !important;
}

.waline-recent-content p {
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}

.waline-recent-content .wl-emoji {
  height: 1.1rem !important;
  display: inline-block !important;
  line-height: 1.25rem !important;
  vertical-align: text-bottom !important;
}

.vcontent .wl-emoji {
  display: inline-block;
  vertical-align: baseline;
  height: 1.25em;
  margin: -0.125em 0.25em;
}

/* twikoo 评论区超链接样式 */
.tk-main a {
  @apply text-blue-700;
}

/* twikoo 内置的 element-ui 加载样式 */
.el-loading-spinner {
  @apply flex justify-center items-center;
}

/* Webmention style */
.webmention-block {
  background: rgba(0, 116, 222, 0.2);
  padding: 1rem 2rem;
  border-radius: 5px;
}

.webmention-header {
  font-style: italic;
  font-weight: 700;
  font-size: 16px;
  margin-bottom: 0.5rem;
}

.webmention-block-intro a {
  color: #0000ee;
  text-decoration: underline;
}

.webmention {
  margin-top: 1rem;
  padding-top: 1rem;
  border-top: 1px solid rgba(0, 0, 0, 0.2);
}

.webmention-counts {
  padding: 16px 0;
  font-weight: bold;
}

.webmention-counts .count {
  font-weight: bold;
  margin-right: 0.2rem;
}

/* .webmention-counts .counts > span {
  margin-right: .8rem;
} */
.webmention-counts .counts > span:not(:last-child):after {
  content: ' • ';
}

a.avatar-wrapper {
  display: inline-block;
  width: 50px;
  height: 50px;
  position: relative;
}

.webmention-avatars .avatar-wrapper {
  margin-right: -8px;
}

.avatar {
  border-radius: 50%;
  margin: 0;
  border: 3px solid rgba(0, 116, 222, 0.5);
}

.replies {
  margin: 0;
  padding: 0;
}

.reply {
  list-style: none;
  display: flex;
  position: relative;
  padding: 0;
  align-items: flex-start;
  margin-top: 0.6rem;
}

.reply p {
  margin: 0;
}

.reply .text {
  margin-left: 1rem;
  font-size: 14px;
}

.reply-author-name {
  font-weight: 500;
}

.forbid-copy {
  user-select: none;
  -webkit-user-select: none;
  -ms-user-select: none;
}

.writing-vertical {
  writing-mode: vertical-rl; /* 竖向排列从右向左 */
  text-orientation: upright; /* 文字方向正常 */
}

/* Chatbase 在移动端禁止遮挡 */
@media (max-width: 700px) {
  button#chatbase-bubble-button {
    margin-bottom: 42px;
    margin-right: 20px;
  }
}

img {
  display: unset;
}

.adsbygoogle {
  overflow: hidden;
}


.lazy-image-placeholder{
  background:
      linear-gradient(90deg,#0001 33%,#0005 50%,#0001 66%)
      #f2f2f2;
  background-size:300% 100%;
  animation: l1 1s infinite linear;
  object-fit: cover;
  object-position: center;
  }

  @keyframes l1 {
  0% {background-position: right}
}

@media (prefers-reduced-motion: reduce) {
  * {
    animation: none !important;
    transition: none !important;
    scroll-behavior: auto !important;
  }
  .lazy-image-placeholder {
    animation: none !important;
  }
}

:root {
  --brand-start: #f0f9ff;
  --brand-end: #f0f4ff;
  --brand-accent: #e0f2fe;
  --surface: rgba(255, 255, 255, 0.3);
  --surface-border: rgba(0, 0, 0, 0.03);
  --text-primary: #1f2937;
  --text-secondary: #4b5563;
}
html.dark {
  --brand-start: #0b1220;
  --brand-end: #121826;
  --brand-accent: #0e7490;
  --surface: rgba(17, 24, 39, 0.3);
  --surface-border: rgba(31, 41, 55, 0.3);
  --text-primary: #e5e7eb;
  --text-secondary: #cbd5e1;
}
.dark {
  --brand-start: #0b1220;
  --brand-end: #121826;
  --brand-accent: #0e7490;
  --surface: rgba(17, 24, 39, 0.3);
  --surface-border: rgba(31, 41, 55, 0.3);
  --text-primary: #e5e7eb;
  --text-secondary: #cbd5e1;
}
.gradient-brand {
  background-image: linear-gradient(135deg,
    #fafbff 0%,
    #f0f8ff 6.25%,
    #e6f4ff 12.5%,
    #e0f2fe 18.75%,
    #ebf8ff 25%,
    #edf6ff 31.25%,
    #f0f9ff 37.5%,
    #f3fbff 43.75%,
    #f5faff 50%,
    #f8fcff 56.25%,
    #fbfdff 62.5%,
    #fdfdff 68.75%,
    #ffffff 75%,
    #ffffff 81.25%,
    #ffffff 87.5%,
    #ffffff 93.75%,
    #ffffff 100%);
}
.gradient-accent {
  background-image: linear-gradient(135deg, var(--brand-accent) 0%, var(--brand-end) 100%);
}
.glass-layer-strong {
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  background-color: var(--surface);
  border: 1px solid var(--surface-border);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
}
.dark .glass-layer-strong {
  background-color: var(--surface);
  border: 1px solid var(--surface-border);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
}
.glass-layer-soft {
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  background-color: var(--surface);
  border: 1px solid var(--surface-border);
  box-shadow: 0 2px 16px rgba(0, 0, 0, 0.03);
}
.dark .glass-layer-soft {
  background-color: var(--surface);
  border: 1px solid var(--surface-border);
  box-shadow: 0 2px 16px rgba(0, 0, 0, 0.1);
}
.text-primary {
  color: var(--text-primary);
}
.text-secondary {
  color: var(--text-secondary);
}

.glass-nav {
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  background-color: color-mix(in oklab, var(--surface) 85%, transparent);
  border: 1px solid color-mix(in oklab, var(--surface-border) 85%, transparent);
}
.dark .glass-nav {
  background-color: color-mix(in oklab, var(--surface) 80%, transparent);
  border: 1px solid color-mix(in oklab, var(--surface-border) 80%, transparent);
}
.glass-sidebar {
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  background-color: color-mix(in oklab, var(--surface) 70%, transparent);
  border: 1px solid color-mix(in oklab, var(--surface-border) 70%, transparent);
}
.dark .glass-sidebar {
  background-color: color-mix(in oklab, var(--surface) 65%, transparent);
  border: 1px solid color-mix(in oklab, var(--surface-border) 65%, transparent);
}
.glass-container {
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  background-color: color-mix(in oklab, var(--surface) 55%, transparent);
  border: 1px solid color-mix(in oklab, var(--surface-border) 55%, transparent);
}
.dark .glass-container {
  background-color: color-mix(in oklab, var(--surface) 50%, transparent);
  border: 1px solid color-mix(in oklab, var(--surface-border) 50%, transparent);
}

/* 波浪动画样式 */
.waves-box {
  height: 120px;
  min-height: 120px;
  position: absolute;
  width: 200%;
  z-index: 0;
  overflow: visible;
  bottom: 0;
  left: 0;
}

.waves {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1;
}

.waves .parallax > use {
  animation: move-forever 40s cubic-bezier(0.3, 0.5, 0.6, 0.8) infinite;
}

.waves .parallax > use:nth-child(1) {
  animation-delay: -2s;
  animation-duration: 40s;
  opacity: 0.7;
}

.waves .parallax > use:nth-child(2) {
  animation-delay: -5s;
  animation-duration: 45s;
  opacity: 0.5;
}

.waves .parallax > use:nth-child(3) {
  animation-delay: -8s;
  animation-duration: 50s;
  opacity: 0.3;
}

.waves .parallax > use:nth-child(4) {
  animation-delay: -11s;
  animation-duration: 55s;
  opacity: 0.2;
}

@keyframes move-forever {
  0% {
    transform: translateX(-50px);
  }
  50% {
    transform: translateX(50px);
  }
  100% {
    transform: translateX(-50px);
  }
}

/* 响应式优化 */
@media (max-width: 768px) {
  .waves-box {
    height: 80px;
    min-height: 80px;
  }
}

/* 卡片基础阴影样式 */
.card-shadow {
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.04);
  transition: box-shadow 0.3s ease;
}

.card-shadow:hover {
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
}

/* 卡片焦点渐变边框样式 - 赛伯朋克风格 */
.card-focus-gradient {
  transition: all 0.2s ease;
  position: relative;
}

.card-focus-gradient:focus-within {
  outline: 2px solid;
  outline-color: #00cec9;
  outline-offset: 2px;
  box-shadow: 0 0 0 4px linear-gradient(135deg, #c2e9fb, #00cec9), 0 0 15px rgba(194, 233, 251, 0.8);
  transform: translateY(-2px);
  z-index: 10;
}

.dark .card-focus-gradient:focus-within {
  outline: 2px solid;
  outline-color: #c2e9fb;
  outline-offset: 2px;
  box-shadow: 0 0 0 4px linear-gradient(135deg, #c2e9fb, #00cec9), 0 0 15px rgba(0, 206, 201, 0.8);
  transform: translateY(-2px);
  z-index: 10;
}